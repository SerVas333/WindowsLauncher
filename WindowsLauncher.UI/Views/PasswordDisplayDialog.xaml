<!-- WindowsLauncher.UI/Views/PasswordDisplayDialog.xaml -->
<Window x:Class="WindowsLauncher.UI.Views.PasswordDisplayDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Пароль сброшен"
        Height="300" Width="500"
        MinHeight="300" MinWidth="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{StaticResource CorporateWhite}"
        FontFamily="Segoe UI"
        TextElement.Foreground="{StaticResource CorporateText}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14">

    <Grid Margin="0,0,0,-26">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Margin="0,0,0,16" 
                Background="{StaticResource CorporateRed}"
                CornerRadius="4">
            <Grid>
                <TextBlock Text="Пароль успешно сброшен"
                          FontSize="20" FontWeight="Medium"
                          Foreground="White"
                          Margin="24,16"
                          HorizontalAlignment="Left" VerticalAlignment="Center"/>

                <TextBlock Text="🔑" 
                          FontSize="24"
                          Foreground="White"
                          Margin="0,16,24,16"
                          HorizontalAlignment="Right" VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Main Content -->
        <StackPanel Grid.Row="1" Margin="24,0,24,0" Grid.RowSpan="2" Height="112" VerticalAlignment="Top">

            <TextBlock Text="Новый временный пароль:"
                       FontSize="14" FontWeight="Medium"
                       Margin="0,0,0,8"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Password TextBox -->
                <TextBox x:Name="PasswordTextBox"
                         Grid.Column="0"
                         Text="{Binding Password, Mode=OneWay}"
                         IsReadOnly="True"
                         FontFamily="Consolas"
                         FontSize="16"
                         Margin="0,0,8,0"
                         Background="{StaticResource CorporateWhite}"
                         Foreground="{StaticResource CorporateText}"
                         BorderBrush="{StaticResource CorporateBorder}"
                         BorderThickness="1"
                         Padding="12,8"
                         MinHeight="36"
                         VerticalContentAlignment="Center"/>

                <!-- Copy Button -->
                <Button Grid.Column="1"
                        Content="📋"
                        ToolTip="Скопировать пароль"
                        Click="CopyPassword_Click"
                        Style="{StaticResource CorporateButtonSecondary}"
                        Padding="12,8"
                        FontSize="16"/>
            </Grid>

            <TextBlock Text="⚠️ Пользователю потребуется сменить пароль при следующем входе."
                       FontSize="12"
                       Foreground="{StaticResource CorporateTextMuted}"
                       Margin="0,16,0,0"
                       TextWrapping="Wrap"/>

            <TextBlock Text="💡 Пароль можно скопировать в буфер обмена, нажав кнопку справа."
                       FontSize="12"
                       Foreground="{StaticResource CorporateTextMuted}"
                       Margin="0,8,0,0"
                       TextWrapping="Wrap"/>
        </StackPanel>

        <!-- Footer Buttons -->
        <Border Grid.Row="2" 
                Background="{StaticResource CorporateGray}"
                BorderBrush="{StaticResource CorporateBorder}"
                BorderThickness="1,1,1,0"
                Margin="0,16,0,0">
            <Grid Margin="24,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Virtual Keyboard Button -->
                <Button Grid.Column="0" 
                        x:Name="VirtualKeyboardButton" 
                        Content="⌨️"
                        ToolTip="Виртуальная клавиатура"
                        Width="32" Height="28" FontSize="14" Padding="0"
                        HorizontalAlignment="Left"
                        Style="{StaticResource CorporateButtonSecondary}"
                        Click="VirtualKeyboardButton_Click"/>

                <Button Grid.Column="1" Content="Закрыть"
                        Click="Close_Click"
                        Style="{StaticResource CorporateButton}"
                        IsDefault="True"
                        MinWidth="100"/>
            </Grid>
        </Border>
    </Grid>
</Window>