<Window x:Class="WindowsLauncher.UI.Views.DatabaseSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… - KDV Corporate Portal"
        Width="670" Height="700"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource SurfaceBrush}">

    <Border Background="{StaticResource SurfaceBrush}" CornerRadius="8" Margin="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" 
                    CornerRadius="8,8,0,0" Padding="20">
                <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="ðŸ—„ï¸" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…" 
                               FontSize="20" FontWeight="Bold" 
                               Foreground="{StaticResource OnPrimaryBrush}"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚Ð¸Ð¿ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…" 
                               FontSize="12" 
                               Foreground="{StaticResource OnPrimaryBrush}"
                               HorizontalAlignment="Center"
                               Opacity="0.9"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
                <StackPanel>
                    <!-- Ð’Ñ‹Ð±Ð¾Ñ€ Ñ‚Ð¸Ð¿Ð° Ð‘Ð” -->
                    <GroupBox Header="Ð¢Ð¸Ð¿ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…" Margin="0,0,0,20">
                        <StackPanel Margin="10">
                            <RadioButton x:Name="SQLiteRadio" 
                                         Content="SQLite (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)" 
                                         GroupName="DatabaseType"
                                         IsChecked="True"
                                         Style="{StaticResource RadioButtonStyle}"
                                         Margin="0,0,0,10"
                                         Checked="DatabaseType_Changed"/>
                            <TextBlock Text="â€¢ Ð›ÐµÐ³ÐºÐ°Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…" 
                                       FontSize="11" 
                                       Foreground="{StaticResource OnPrimaryBrush}"
                                       Margin="20,0,0,5"/>
                            <TextBlock Text="â€¢ ÐÐµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ ÑÐµÑ€Ð²ÐµÑ€Ð°" 
                                       FontSize="11" 
                                       Foreground="{StaticResource OnPrimaryBrush}"
                                       Margin="20,0,0,15"/>

                            <RadioButton x:Name="FirebirdRadio" 
                                         Content="Firebird (Ð´Ð»Ñ ÐºÐ¾Ñ€Ð¿Ð¾Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ)" 
                                         GroupName="DatabaseType"
                                         Style="{StaticResource RadioButtonStyle}"
                                         Margin="0,0,0,10"
                                         Checked="DatabaseType_Changed"/>
                            <TextBlock Text="â€¢ ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¡Ð£Ð‘Ð”" 
                                       FontSize="11" 
                                       Foreground="{StaticResource OnPrimaryBrush}"
                                       Margin="20,0,0,5"/>
                            <TextBlock Text="â€¢ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÐºÐ»Ð¸ÐµÐ½Ñ‚-ÑÐµÑ€Ð²ÐµÑ€Ð½Ð¾Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹" 
                                       FontSize="11" 
                                       Foreground="{StaticResource OnPrimaryBrush}"
                                       Margin="20,0,0,0"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- SQLite Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ -->
                    <GroupBox x:Name="SQLiteSettings" Header="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ SQLite" Margin="0,0,0,20">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" 
                                       Text="Ð¤Ð°Ð¹Ð» Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:" 
                                       VerticalAlignment="Center" 
                                       Margin="0,0,10,0"/>
                            <TextBox x:Name="SQLitePathTextBox" 
                                     Grid.Row="0" Grid.Column="1" 
                                     Style="{StaticResource TextBoxStyle}"
                                     Text="launcher.db"
                                     Margin="0,0,10,0"/>
                            <Button x:Name="BrowseSQLiteButton" 
                                    Grid.Row="0" Grid.Column="2" 
                                    Content="ðŸ“"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Width="40"
                                    ToolTip="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»"
                                    Click="BrowseSQLite_Click"
                                    Margin="0,0,5,0"/>
                            <Button x:Name="DefaultSQLiteButton" 
                                    Grid.Row="0" Grid.Column="3" 
                                    Content="âš™ï¸"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Width="40"
                                    ToolTip="Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ"
                                    Click="DefaultSQLite_Click"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="4" 
                                       Text="ðŸ’¡ Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐµ" 
                                       FontSize="11" 
                                       Foreground="{StaticResource SecondaryTextBrush}"
                                       Margin="0,10,0,0"/>
                        </Grid>
                    </GroupBox>

                    <!-- Firebird Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ -->
                    <GroupBox x:Name="FirebirdSettings" Header="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Firebird" Margin="0,0,0,20" Visibility="Collapsed">
                        <StackPanel Margin="10">
                            <!-- Ð ÐµÐ¶Ð¸Ð¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ -->
                            <TextBlock Text="Ð ÐµÐ¶Ð¸Ð¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ:" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                <RadioButton x:Name="EmbeddedRadio" 
                                             Content="Embedded (Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð‘Ð”)" 
                                             GroupName="FirebirdMode"
                                             IsChecked="True"
                                             Style="{StaticResource RadioButtonStyle}"
                                             Margin="0,0,20,0"
                                             Checked="FirebirdMode_Changed"/>
                                <RadioButton x:Name="ClientServerRadio" 
                                             Content="Client-Server (ÑÐµÑ‚ÐµÐ²Ð°Ñ Ð‘Ð”)" 
                                             GroupName="FirebirdMode"
                                             Style="{StaticResource RadioButtonStyle}"
                                             Checked="FirebirdMode_Changed"/>
                            </StackPanel>

                            <!-- Embedded Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ -->
                            <StackPanel x:Name="EmbeddedPanel">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Row="0" Grid.Column="0" 
                                               Text="Ð¤Ð°Ð¹Ð» Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:" 
                                               VerticalAlignment="Center" 
                                               Margin="0,0,10,0"/>
                                    <TextBox x:Name="FirebirdPathTextBox" 
                                             Grid.Row="0" Grid.Column="1" 
                                             Style="{StaticResource TextBoxStyle}"
                                             Text="launcher.fdb"
                                             Margin="0,0,10,0"/>
                                    <Button x:Name="BrowseFirebirdButton" 
                                            Grid.Row="0" Grid.Column="2" 
                                            Content="ðŸ“"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Width="40"
                                            ToolTip="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»"
                                            Click="BrowseFirebird_Click"
                                            Margin="0,0,5,0"/>
                                    <Button x:Name="DefaultFirebirdButton" 
                                            Grid.Row="0" Grid.Column="3" 
                                            Content="âš™ï¸"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Width="40"
                                            ToolTip="Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ"
                                            Click="DefaultFirebird_Click"/>
                                </Grid>
                            </StackPanel>

                            <!-- Client-Server Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ -->
                            <StackPanel x:Name="ClientServerPanel" Visibility="Collapsed">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="120"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Row="0" Grid.Column="0" 
                                               Text="Ð¡ÐµÑ€Ð²ÐµÑ€:" 
                                               VerticalAlignment="Center"/>
                                    <TextBox x:Name="ServerTextBox" 
                                             Grid.Row="0" Grid.Column="1" 
                                             Style="{StaticResource TextBoxStyle}"
                                             Text="localhost"
                                             Margin="0,0,10,0"/>
                                    <TextBlock Grid.Row="0" Grid.Column="2" 
                                               Text="ÐŸÐ¾Ñ€Ñ‚:" 
                                               VerticalAlignment="Center"
                                               Margin="0,0,5,0"/>
                                    <TextBox x:Name="PortTextBox" 
                                             Grid.Row="0" Grid.Column="3" 
                                             Style="{StaticResource TextBoxStyle}"
                                             Text="3050"/>

                                    <TextBlock Grid.Row="1" Grid.Column="0" 
                                               Text="Ð˜Ð¼Ñ Ð‘Ð”:" 
                                               VerticalAlignment="Center"
                                               Margin="0,10,0,0"/>
                                    <TextBox x:Name="DatabaseNameTextBox" 
                                             Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3"
                                             Style="{StaticResource TextBoxStyle}"
                                             Text="LAUNCHER"
                                             ToolTip="Ð˜Ð¼Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ (Ð±ÐµÐ· Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ)"
                                             Margin="0,10,0,0"/>
                                </Grid>
                            </StackPanel>

                            <!-- Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ -->
                            <TextBlock Text="Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:" FontWeight="SemiBold" Margin="0,20,0,10"/>
                            <TextBlock Text="ðŸ’¡ Ð”Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ð¸. ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð² Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¼Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑÐ¼Ð¸ Ð½Ð°Ñ…Ð¾Ð´ÑÑ‚ÑÑ Ð² Ð¿Ð°Ð¿ÐºÐµ Scripts/" 
                                       FontSize="10" 
                                       Foreground="{StaticResource SecondaryTextBrush}"
                                       TextWrapping="Wrap"
                                       Margin="0,0,0,10"/>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" 
                                           Text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:" 
                                           VerticalAlignment="Center"/>
                                <TextBox x:Name="UsernameTextBox" 
                                         Grid.Row="0" Grid.Column="1" 
                                         Style="{StaticResource TextBoxStyle}"
                                         Text="SYSDBA"
                                         Margin="0,0,0,10"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" 
                                           Text="ÐŸÐ°Ñ€Ð¾Ð»ÑŒ:" 
                                           VerticalAlignment="Center"/>
                                <PasswordBox x:Name="PasswordBox" 
                                             Grid.Row="1" Grid.Column="1" 
                                             Style="{StaticResource PasswordBoxStyle}"
                                             ToolTip="Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: KDV_Launcher_2025!)"/>
                            </Grid>

                            <!-- Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ -->
                            <Expander Header="Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹" Margin="0,20,0,0">
                                <Grid Margin="10">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="120"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Row="0" Grid.Column="0" 
                                               Text="ÐšÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐ°:" 
                                               VerticalAlignment="Center"/>
                                    <ComboBox x:Name="CharsetComboBox" 
                                              Grid.Row="0" Grid.Column="1" 
                                              Style="{StaticResource ComboBoxStyle}"
                                              Margin="0,0,0,10">
                                        <ComboBoxItem Content="UTF8" IsSelected="True"/>
                                        <ComboBoxItem Content="WIN1251"/>
                                        <ComboBoxItem Content="ISO8859_1"/>
                                    </ComboBox>

                                    <TextBlock Grid.Row="1" Grid.Column="0" 
                                               Text="Ð”Ð¸Ð°Ð»ÐµÐºÑ‚:" 
                                               VerticalAlignment="Center"/>
                                    <ComboBox x:Name="DialectComboBox" 
                                              Grid.Row="1" Grid.Column="1" 
                                              Style="{StaticResource ComboBoxStyle}"
                                              Margin="0,0,0,10">
                                        <ComboBoxItem Content="3" IsSelected="True"/>
                                        <ComboBoxItem Content="1"/>
                                    </ComboBox>

                                    <TextBlock Grid.Row="2" Grid.Column="0" 
                                               Text="Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚ (ÑÐµÐº):" 
                                               VerticalAlignment="Center"/>
                                    <TextBox x:Name="TimeoutTextBox" 
                                             Grid.Row="2" Grid.Column="1" 
                                             Style="{StaticResource TextBoxStyle}"
                                             Text="30"/>
                                </Grid>
                            </Expander>
                        </StackPanel>
                    </GroupBox>

                    <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð‘Ð” -->
                    <GroupBox Header="Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²ÐµÑ€ÑÐ¸ÑÑ…" Margin="0,0,0,20">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="140"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" 
                                       Text="Ð’ÐµÑ€ÑÐ¸Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:" 
                                       VerticalAlignment="Center"/>
                            <TextBlock x:Name="AppVersionText" 
                                       Grid.Row="0" Grid.Column="1" 
                                       Text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..."
                                       FontWeight="SemiBold"
                                       VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" 
                                       Text="Ð’ÐµÑ€ÑÐ¸Ñ Ð‘Ð”:" 
                                       VerticalAlignment="Center"
                                       Margin="0,5,0,0"/>
                            <TextBlock x:Name="DbVersionText" 
                                       Grid.Row="1" Grid.Column="1" 
                                       Text="ÐÐµ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°"
                                       FontWeight="SemiBold"
                                       VerticalAlignment="Center"
                                       Margin="0,5,0,0"/>

                            <Button x:Name="InitializeDatabaseButton" 
                                    Grid.Row="1" Grid.Column="2"
                                    Content="ðŸ”§ Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð‘Ð”"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="InitializeDatabase_Click"
                                    Margin="10,5,0,0"
                                    Visibility="Collapsed"/>

                            <TextBlock x:Name="CompatibilityText" 
                                       Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3"
                                       Text="Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ: Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°..."
                                       FontSize="11"
                                       Margin="0,10,0,0"/>
                        </Grid>
                    </GroupBox>

                    <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ -->
                    <Border x:Name="StatusPanel" 
                            Background="{StaticResource SurfaceVariantBrush}" 
                            CornerRadius="8" 
                            Padding="15" 
                            Margin="0,0,0,10">
                        <StackPanel Orientation="Horizontal">
                            <Ellipse x:Name="StatusIndicator" 
                                     Width="12" Height="12" 
                                     Fill="{StaticResource SecondaryTextBrush}"
                                     Margin="0,0,10,0"
                                     VerticalAlignment="Center"/>
                            <TextBlock x:Name="StatusText" 
                                       Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹" 
                                       VerticalAlignment="Center"
                                       Foreground="{StaticResource PrimaryTextBrush}"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
            <Border Grid.Row="2" BorderBrush="{StaticResource BorderBrush}" 
                    BorderThickness="0,1,0,0" Padding="20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ -->
                    <Button x:Name="TestConnectionButton" 
                            Grid.Column="0"
                            Content="ðŸ” Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ"
                            Style="{StaticResource SecondaryButtonStyle}"
                            Margin="0,0,15,0"
                            Click="TestConnection_Click"/>

                    <!-- ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ -->
                    <Button x:Name="CancelButton" 
                            Grid.Column="2"
                            Content="ÐžÑ‚Ð¼ÐµÐ½Ð°"
                            Style="{StaticResource SecondaryButtonStyle}"
                            Width="100"
                            Margin="0,0,10,0"
                            Click="Cancel_Click"/>

                    <Button x:Name="ResetButton" 
                            Grid.Column="3"
                            Content="Ð¡Ð±Ñ€Ð¾Ñ"
                            Style="{StaticResource SecondaryButtonStyle}"
                            Width="100"
                            Margin="0,0,10,0"
                            Click="Reset_Click"/>

                    <Button x:Name="SaveButton" 
                            Grid.Column="4"
                            Content="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"
                            Style="{StaticResource PrimaryButtonStyle}"
                            Width="120"
                            FontWeight="SemiBold"
                            Click="Save_Click"/>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>